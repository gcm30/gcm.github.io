(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45d479c5"],{"0b4d":function(s,t,a){},"10e1":function(s,t,a){},"1aec":function(s,t,a){"use strict";a("0b4d")},"32f5":function(s,t,a){"use strict";var i=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"orderGoodsPsd"},[a("div",{staticClass:"orderGoodsPsd_l"},[a("img",{attrs:{src:s.i.productInfo.image}})]),a("div",{staticClass:"orderGoodsPsd_c"},[a("p",{staticClass:"van-ellipsis"},[s._v(s._s(s.i.productInfo.store_name))]),a("p",[s._v(s._s(s.i.productInfo.attrInfo.suk))]),a("p",{style:{color:s.red?"#fc4141":""}},[s._v("￥"+s._s(s.i.productInfo.price))])]),a("div",{staticClass:"orderGoodsPsd_r"},[a("p",[s._v("x"+s._s(s.i.cart_num))])])])},e=[],r={props:["i","red"],created:function(){}},c=r,o=(a("c3ae"),a("2877")),n=Object(o["a"])(c,i,e,!1,null,"53c551fa",null);t["a"]=n.exports},"5d94":function(s,t,a){"use strict";a.r(t);var i=function(){var s=this,t=s.$createElement,a=s._self._c||t;return s.Flag?a("div",{attrs:{id:"submit"}},[a("div",{staticClass:"submit_nav"},[a("div",{staticClass:"submit_nav_s"},[s._m(0),a("div",{staticClass:"submit_nav_r",on:{click:s.shop}},[a("div",{staticClass:"submit_nav_text"})])]),s.addressList.length?a("div",{staticClass:"submit_address",on:{click:function(t){s.show1=!0}}},[a("div",{staticClass:"submit_address_l"},[a("div",[a("span",[s._v(s._s(s.addressList[s.address_radio].real_name))]),a("span",[s._v(s._s(s.addressList[s.address_radio].phone))])]),a("div",[s.addressList[s.address_radio].is_default?a("span",[s._v("[默认]")]):s._e(),a("span",{staticClass:"black"},[s._v(s._s(s.addressList[s.address_radio].province)+s._s(s.addressList[s.address_radio].city)+s._s(s.addressList[s.address_radio].district)+s._s(s.addressList[s.address_radio].detail))])])]),a("div",{staticClass:"submit_address_r"},[a("van-icon",{attrs:{name:"arrow"}})],1)]):s._e(),a("van-action-sheet",{attrs:{title:"选择地址"},model:{value:s.show1,callback:function(t){s.show1=t},expression:"show1"}},[a("div",{staticClass:"content"},[a("van-radio-group",{model:{value:s.address_radio,callback:function(t){s.address_radio=t},expression:"address_radio"}},[s._l(s.addressList,(function(t,i){return a("van-radio",{key:t.id,class:i==s.address_radio?"active":"",attrs:{"label-position":"left",name:i}},[[a("AddressPsd",{attrs:{item:t}})]],2)})),a("div",{staticClass:"add_btn"},[s._v("新加地址")])],2)],1)]),s._m(1)],1),a("div",{staticClass:"submit_goods"},[a("div",{staticClass:"num"},[s._v("共件商品")]),a("ul",{staticClass:"godds_list"},s._l(s.cartInfo,(function(s){return a("li",{key:s.id},[a("Psd",{attrs:{i:s,red:"r"}})],1)})),0)]),a("div",{staticClass:"submit_choice"},[a("van-cell",{staticClass:"submit_choice_item",attrs:{"is-link":"",value:"优惠券"},on:{click:function(t){s.show=!0}},scopedSlots:s._u([{key:"right-icon",fn:function(){return[a("span",[s._v("请选择")]),a("van-icon",{staticClass:"arrow-icon",attrs:{name:"arrow"}})]},proxy:!0}],null,!1,2522608564)}),a("van-action-sheet",{attrs:{title:"优惠券"},model:{value:s.show,callback:function(t){s.show=t},expression:"show"}},[a("div",{staticClass:"content"},[a("van-image",{attrs:{fit:"cover",src:"http://47.115.51.185/h5/img/noCoupon.e524084b.png"}})],1)]),a("div",{staticClass:"submit_choice_item submit_choice_item_1"},[a("div",{staticClass:"submit_choice_item_l"},[s._v("积分抵扣")]),s.userInfo?a("div",{staticClass:"submit_choice_item_r"},[a("span",[s._v("当前积分")]),a("span",[s._v(s._s(s.userInfo.integral))]),a("van-checkbox",{attrs:{"checked-color":"#fc4141"},model:{value:s.checked,callback:function(t){s.checked=t},expression:"checked"}})],1):s._e()]),a("div",{staticClass:"submit_choice_item submit_choice_item_1"},[a("div",{staticClass:"submit_choice_item_l"},[s._v("快递费用")]),s.priceGroup?a("div",{staticClass:"submit_choice_item_r"},[a("span",[s._v(s._s(0==s.priceGroup.storePostage?"免运费":"￥"+s.priceGroup.storePostage))])]):s._e()]),s._m(2)],1),a("div",{staticClass:"payment"},[a("p",[s._v("支付方式")]),a("div",{staticClass:"payment_ipt"},[a("van-radio-group",{model:{value:s.radio,callback:function(t){s.radio=t},expression:"radio"}},[a("van-radio",{class:1==s.radio?"active":"",attrs:{name:"1"}},[a("Pay",{attrs:{cls:"icon-weixinzhifu",color:"#41b035",text:"微信支付",text1:"微信快捷支付"}})],1),a("van-radio",{class:2==s.radio?"active":"",attrs:{name:"2"}},[a("Pay",{attrs:{cls:"icon-balance",color:"#fe960f",text:"余额支付",text1:"可用余额：0.00"}})],1)],1)],1)]),a("div",{staticClass:"sum_price"},[s.cartInfo?a("p",[a("span",[s._v("商品总价：")]),s._v(" "),a("span",[s._v("￥"+s._s(s.total))])]):s._e(),s.priceGroup.storePostage?a("p",[a("span",[s._v("运费")]),a("span",[s._v("+￥"+s._s(s.priceGroup.storePostage))])]):s._e(),s.checked?a("p",[a("span",[s._v("积分抵扣")]),a("span",[s._v("-￥"+s._s(s.userInfo.integral))])]):s._e()]),a("div",{staticClass:"total"},[a("p",[s._v(" 合计："),a("span",[s._v("￥"+s._s(s.payPrice))])]),a("div",[a("button",{on:{click:s.clos}},[s._v("立即结算")])])])]):s._e()},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"submit_nav_l"},[a("div",{staticClass:"submit_nav_text"})])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"submit_img"},[a("img",{attrs:{src:"http://47.115.51.185/h5/img/line.05bf1c84.jpg",alt:""}})])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"submit_longText"},[a("p",[s._v("备注信息")]),a("textarea",{attrs:{placeholder:"请添加备注（150字以内）"}})])}],r=a("32f5"),c=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"submit_pay"},[a("div",{staticClass:"submit_pay_l"},[a("div",{staticClass:"iconfont",class:s.cls,style:{color:s.color}}),a("p",[s._v(s._s(s.text))])]),a("div",{staticClass:"submit_pay_r"},[s._v(s._s(s.text1))])])},o=[],n={props:["cls","text","text1","color"]},d=n,l=(a("b958"),a("2877")),_=Object(l["a"])(d,c,o,!1,null,"717fa2a7",null),u=_.exports,p=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"add_address"},[a("div",{staticClass:"add_address_l"},[a("van-icon",{attrs:{name:"location-o"}})],1),a("div",{staticClass:"add_address_c"},[a("p",[a("span",[s._v(s._s(s.item.real_name))]),a("span",[s._v(s._s(s.item.phone))])]),a("p",[s._v(" "+s._s(s.item.real_name)+s._s(s.item.city)+s._s(s.item.district)+s._s(s.item.detail)+" ")])])])},v=[],f={props:["item"]},m=f,h=(a("e340"),Object(l["a"])(m,p,v,!1,null,"5c4b53be",null)),b=h.exports,C={components:{Psd:r["a"],Pay:u,AddressPsd:b},data:function(){return{confirmList:null,orderKey:null,cartInfo:null,priceGroup:null,address:null,show:!1,radio:"1",priceList:null,userInfo:null,checked:!0,payPrice:0,show1:!1,addressList:[],address_radio:0,Flag:!1}},created:function(){var s=this,t=this.$route.params.id;this.axios.post("/api/order/confirm",{cartId:t}).then((function(t){s.Flag=!0;var a=t.data.data;s.confirmList=a,s.orderKey=a.orderKey,s.cartInfo=a.cartInfo,s.priceGroup=a.priceGroup,s.address=a.addressInfo,s.userInfo=a.userInfo,s.end_pay(s.orderKey)})),this.axios.get("/api/address/list").then((function(t){s.addressList=t.data.data,s.addressList.sort((function(s,t){return s=s.is_default,t=t.is_default,t-s}))}))},methods:{onSelect:function(s){this.show=!1,console.log(s)},end_pay:function(s){var t=this,a=this.checked?1:0,i=1==this.radio?"weixin":"yue";this.axios.post("/api/order/computed/"+s,{addressId:this.addressList[this.address_radio].id,couponId:0,payType:i,shipping_type:1,useIntegral:a}).then((function(s){t.payPrice=s.data.data.result.pay_price}))},shop:function(){this.$toast({message:"暂无门店信息，您无法选择到店自提",icon:"close",duration:"350"})},clos:function(){var s=this,t=this.addressList[this.address_radio].id,a=this.checked?1:0,i=1==this.radio?"weixin":"yue";this.axios.post("/api/order/create/"+this.orderKey,{addressId:t,useIntegral:a,payType:i}).then((function(t){var a=t.data.data.result.orderId;s.$router.push({path:"/order/status/".concat(a),query:{msg:t.msg}})}))}},watch:{checked:function(){this.end_pay(this.orderKey)},address_radio:function(){this.show1=!1},radio:function(){this.end_pay(this.orderKey)}},computed:{total:function(){return this.cartInfo[0].truePrice*this.cartInfo[0].cart_num}}},y=C,g=(a("1aec"),a("d1b8"),Object(l["a"])(y,i,e,!1,null,null,null));t["default"]=g.exports},"80f3":function(s,t,a){},a4e9:function(s,t,a){},b958:function(s,t,a){"use strict";a("80f3")},c3ae:function(s,t,a){"use strict";a("10e1")},d1b8:function(s,t,a){"use strict";a("fc99")},e340:function(s,t,a){"use strict";a("a4e9")},fc99:function(s,t,a){}}]);
//# sourceMappingURL=chunk-45d479c5.b281b3ce.js.map